# 🔧 מדריך הגדרת API למנהל המערכת - TurjiTrade

## 📋 סקירה כללית

TurjiTrade משתמשת במערכת התראות מרכזית. **אתה** (מנהל המערכת) מגדיר את ה-API keys **פעם אחת**, וכל המשתמשים מקבלים התראות מהחשבון המרכזי שלך.

---

## 📧 שלב 1: הגדרת EmailJS

### 1.1 יצירת חשבון
1. היכנס ל-[EmailJS](https://www.emailjs.com/)
2. צור חשבון חינמי (עד 200 מיילים בחודש)

### 1.2 יצירת Email Service
1. לחץ על **Email Services** בתפריט הצד
2. לחץ על **Add New Service**
3. בחר את ספק המייל שלך (Gmail, Outlook, וכו')
4. עקוב אחרי ההוראות להתחברות
5. **חשוב:** בשדה **"From Name"** הכנס: `TurjiTrade`
6. בשדה **"From Email"** השאר את המייל שלך
7. **שמור את ה-Service ID** - זה נראה כך: `service_abc123`

**💡 טיפ חשוב:** כשתגדיר "From Name" כ-TurjiTrade, המשתמשים יראו את המיילים כאילו הם מגיעים מ-"TurjiTrade" ולא מהמייל האישי שלך!

### 1.3 יצירת Email Template
1. לחץ על **Email Templates** בתפריט הצד
2. לחץ על **Create New Template**
3. השתמש בתבנית הזו:

```
Subject: 🎯 TurjiTrade - התראת קנייה!

הי,

המניה {{symbol}} נמצאת בטווח המחיר המבוקש שלך!

💰 מחיר נוכחי: ${{current_price}}
📉 טווח המחיר שהגדרת: ${{price_min}} - ${{price_max}}

✅ זה הזמן לשקול קנייה!

🤖 {{app_name}}
```

4. **שמור את ה-Template ID** - זה נראה כך: `template_xyz789`

### 1.4 קבלת Public Key
1. לחץ על **Account** בתפריט הצד
2. גלול ל-**API Keys**
3. **העתק את ה-Public Key** - זה נראה כך: `abcXYZ123456`

---

## 📱 שלב 2: הגדרת Telegram Bot

### 2.1 יצירת בוט
1. פתח את **Telegram** על הטלפון/מחשב
2. חפש את `@BotFather` ופתח שיחה איתו
3. שלח את הפקודה: `/newbot`
4. עקוב אחרי ההוראות:
   - תן שם לבוט (לדוגמה: `TurjiTrade Bot`)
   - תן username לבוט (חייב להסתיים ב-`bot`, לדוגמה: `turjitrade_bot`)

### 2.2 קבלת Bot Token
1. אחרי יצירת הבוט, BotFather ישלח לך **HTTP API token**
2. **שמור אותו** - זה נראה כך: `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`
3. ⚠️ **אל תשתף את הטוקן הזה עם אף אחד!**

---

## 💻 שלב 3: הזנת המפתחות לקוד

### 3.1 פתח את הקובץ
נווט לקובץ:
```
/src/app/config/apiConfig.ts
```

### 3.2 הזן את המפתחות
ערוך את הקובץ ושנה את הערכים:

```typescript
export const API_CONFIG = {
  emailjs: {
    serviceId: 'service_abc123',      // 👈 שים כאן את ה-Service ID שלך
    templateId: 'template_xyz789',    // 👈 שים כאן את ה-Template ID שלך
    publicKey: 'abcXYZ123456',        // 👈 שים כאן את ה-Public Key שלך
  },
  telegram: {
    botToken: '123456789:ABC...',     // 👈 שים כאן את ה-Bot Token שלך
  },
};
```

### 3.3 שמור את הקובץ
לחץ **Ctrl+S** (Windows) או **Cmd+S** (Mac) לשמירה.

---

## ✅ שלב 4: בדיקה

### 4.1 בדיקת EmailJS
1. פתח את TurjiTrade
2. עבור לטאב **התראות**
3. לחץ על כפתור ההגדרות (⚙️)
4. ודא שרשום **✅ מוגדר** ליד EmailJS

### 4.2 בדיקת Telegram
1. באותו מודאל, ודא שרשום **✅ מוגדר** ליד Telegram Bot
2. שלח הודעה `/start` לבוט שיצרת
3. הבוט יאשר שהוא מוכן לשלוח התראות

---

## 👥 שלב 5: הוראות למשתמשים

### למשתמשים רגילים:
1. פתחו את TurjiTrade
2. עברו לטאב **התראות**
3. הזינו את המייל שלכם (ללחיצה על שורת המייל)
4. אם רוצים טלגרם - הזינו מספר טלפון (ללחיצה על ה-checkbox)
5. המערכת תשלח לכם התראות אוטומטיות!

---

## 🔒 אבטחה וחשיבות

### ⚠️ אזהרת אבטחה
- ה-API keys נמצאים בקוד ה-Frontend
- כל מי שיפתח את DevTools יכול לראות אותם
- **מתאים לשימוש משפחתי/פרטי בלבד**
- **לא מתאים לייצור (production) עם משתמשים חיצוניים**

### 💡 טיפים
- EmailJS תומך ב-200 מיילים בחודש בגרסה החינמית
- אם צריך יותר - שקול לשדרג לתוכנית בתשלום
- הטלגרם בוט חינמי לחלוטין ללא הגבלה

---

## 🆘 פתרון בעיות

### EmailJS לא עובד
- ✅ ודא שהמפתחות נכונים (אין רווחים מיותרים)
- ✅ ודא שה-Email Service מחובר נכון
- ✅ בדוק ב-EmailJS Dashboard אם יש שגיאות

### Telegram לא עובד
- ✅ ודא שה-Bot Token נכון
- ✅ ודא שהמשתמש שלח `/start` לבוט
- ✅ מספר הטלפון צריך להיות בפורמט בינלאומי (+972...)

---

## 📞 תמיכה

אם יש בעיות או שאלות, פתח issue ב-GitHub או פנה למפתח המערכת.

---

**✨ מוכן! עכשיו TurjiTrade ישלח התראות לכל המשתמשים מהחשבון המרכזי שלך! 🚀**