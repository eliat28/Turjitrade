# 🔑 TurjiTrade - מדריך הגדרת API למחירי מניות אמיתיים

## 📊 למה צריך API Key?

**אין דרך לקבל נתונים אמיתיים מהשוק ללא API key.** כל שירות נתוני מניות (TradingView, Yahoo Finance, Bloomberg) דורש אימות.

אבל יש **חדשות טובות**! יש שירות חינמי שנותן 250 בקשות ליום - **יותר ממספיק** לאפליקציה שלך!

---

## ⚡ קבל API Key חינמי (30 שניות!)

### שלב 1: הרשמה ל-Financial Modeling Prep

1. **לך לאתר:**
   ```
   https://site.financialmodelingprep.com/developer/docs/
   ```

2. **לחץ על "Get Your Free API Key"** (למעלה בעמוד)

3. **מלא את הפרטים:**
   - שם
   - אימייל
   - סיסמה
   - **לא צריך כרטיס אשראי!** ✅

4. **לחץ "Sign Up"**

5. **קבל את ה-API Key:**
   - תקבל מייל עם ה-API key
   - **או** תראה אותו מיד בעמוד ה-Dashboard
   - נראה כמו: `abcd1234efgh5678ijkl9012mnop3456`

---

### שלב 2: הוסף את ה-API Key לקוד

1. **פתח את הקובץ:**
   ```
   /src/app/services/stockApi.ts
   ```

2. **מצא את שורה 7** (למעלה בקובץ):
   ```typescript
   const FMP_API_KEY = 'YOUR_API_KEY_HERE'; // 👈 PUT YOUR FREE API KEY HERE
   ```

3. **החלף עם ה-API key שלך:**
   ```typescript
   const FMP_API_KEY = 'abcd1234efgh5678ijkl9012mnop3456'; // המפתח שלך
   ```

4. **שמור את הקובץ** (Ctrl+S / Cmd+S)

5. **רענן את הדפדפן** (F5)

---

## ✅ איך לדעת שזה עובד?

### באפליקציה:
1. **הבאנר הכתום נעלם** - אין יותר הודעה על API key
2. **האינדיקטור משתנה ל-🟢 "נתונים אמיתיים"** (ליד "Live")
3. **המחירים מתעדכנים** כל 30 שניות

### ב-Console (F12):
תראה הודעות כמו:
```
🔄 Fetching REAL prices for 16 stocks from Financial Modeling Prep...
✅ AAPL: $196.89 (+0.65%)
✅ TSLA: $437.80 (-0.92%)
✅ NVDA: $138.25 (+1.85%)
...
✅ Successfully fetched 16/16 REAL stock prices
```

במקום:
```
🔑 API KEY NEEDED!
🔄 Loading realistic price simulation...
```

---

## 🎯 מה אתה מקבל?

### תוכנית חינמית:
- ✅ **250 בקשות ליום**
- ✅ **נתונים אמיתיים** מ-NYSE, NASDAQ ועוד
- ✅ **עיכוב של 15 דקות** (בגרסה החינמית)
- ✅ **ללא כרטיס אשראי**
- ✅ **ללא מגבלת זמן**

### האם 250 בקשות מספיק?
**בהחלט!** האפליקציה שואבת 16 מניות בבקשה **אחת**, כל 30 שניות:
- 1 בקשה = 16 מניות
- ריענון כל 30 שניות = 2 בקשות לדקה
- 2 * 60 דקות = **120 בקשות לשעה**
- 120 * 24 שעות = **2,880 בקשות ליום אפשריות**

אבל אתה לא משתמש באפליקציה 24/7, אז **250 בקשות ליום זה יותר ממספיק!** ✅

---

## 🛠️ פתרון בעיות

### בעיה: "Still seeing simulation mode"

**פתרון:**
1. וודא שהעתקת את כל ה-API key (ללא רווחים)
2. וודא שהמפתח בתוך גרשיים: `'your_key_here'`
3. שמור את הקובץ (Ctrl+S)
4. רענן את הדפדפן (F5)
5. פתח Console (F12) ובדוק אם יש שגיאות

### בעיה: "401 Unauthorized"

**פתרון:**
- ה-API key לא תקין
- בדוק שהעתקת את המפתח הנכון מהמייל/Dashboard
- נסה ליצור API key חדש באתר

### בעיה: "429 Too Many Requests"

**פתרון:**
- עברת את מגבלת 250 הבקשות היומית
- המתן עד מחר או שדרג לתוכנית בתשלום
- האפליקציה תעבור אוטומטית למצב סימולציה

### בעיה: הבאנר לא נעלם

**פתרון:**
1. רענן את העמוד במקש F5 (לא רק Ctrl+R)
2. נקה cache: Ctrl+Shift+Del → Clear cache
3. סגור ופתח את הדפדפן מחדש

---

## 🔒 אבטחה

### האם בטוח לשים API key בקוד?

**לפיתוח - כן.** אבל אם אתה מפרסם את האפליקציה:

1. **אל תשתף את ה-API key פומבית** (GitHub, Facebook, וכו')
2. **השתמש במשתנה סביבה:**
   ```typescript
   const FMP_API_KEY = import.meta.env.VITE_FMP_API_KEY;
   ```
3. **הוסף `.env` ל-`.gitignore`**
4. **עבור לבקשות דרך שרת** (backend) בסביבת production

### האם מישהו יכול לגנוב את המפתח?

**כן - בדפדפן הכל חשוף.** לכן:
- התוכנית החינמית מוגבלת ל-250 בקשות ליום (נזק מינימלי)
- תמיד תוכל ליצור API key חדש
- לסביבת production - העבר לשרת

---

## 💡 טיפים

### 1. שמור את ה-API Key במקום בטוח
העתק אותו לקובץ טקסט או מנהל סיסמאות.

### 2. בדוק את המכסה שלך
לך ל-Dashboard של Financial Modeling Prep ובדוק כמה בקשות נשארו לך.

### 3. שדרג רק אם צריך
אם 250 בקשות ליום לא מספיקות, יש תוכניות בתשלום עם יותר בקשות.

### 4. פתח מספר חשבונות
אם אתה מפתח, תוכל ליצור מספר API keys בחינם עם אימיילים שונים.

---

## 🚀 סיכום

1. **הירשם** ל-Financial Modeling Prep (30 שניות)
2. **העתק** את ה-API key
3. **הדבק** ב-`/src/app/services/stockApi.ts`
4. **רענן** את הדפדפן
5. **תהנה** מנתונים אמיתיים! 🎉

---

## 📞 עזרה נוספת?

אם משהו לא עובד:
1. **פתח Console** (F12) וחפש שגיאות
2. **בדוק את STOCK_API_SETUP.md** (הקובץ הזה)
3. **בדוק את הדוקומנטציה** של FMP: https://site.financialmodelingprep.com/developer/docs/

---

**Happy Trading! 💎📈🚀**
